# 데이터 전처리 
## 이상치 제거
이용시간과 이용거리에 박스플롯 상 유난히 멀리 떨어진 이상점과 극단점이 다수인 것을 확인하였다.

이용시간의 경우, 최장 약 3500분으로(약 58시간) 반납을 잊었거나 기기상의 오류로 반납처리 되지 않은 것으로 예상할 수 있다. 이 경우 다른 사람의 PBSS 이용에 영향을 미치기 때문에 극단점을 그대로 유지하기로 한다.

이용거리의 경우, 최장 700000M으로(약 700KM). 이밖에도 이용시간과 대조했을 때 현실적으로 설명 불가능한 경우가 다수 발견되었다. (ex. 이용시간은 20초 남짓인데 이용 거리는 30KM로 측정) 전산 상의 오류가 잦은 것으로 예상되지만, 임의로 처리하기 어렵고 해당 데이터를 제거하기엔 거리 외의 정보가 유의미 하기 때문에, 거리와 관련된 분석은 중앙값을 활용한다.

또한 대여 장소와 반납 장소가 동일하고, 대여시간이 극히 짧은 경우(1분 미만) 이상치로 판단하였다.

왜냐하면 해당 조건의 경우 잠재적 PBSS 이용자들에게 영향을 미치지 않을 것이라 판단하였기 때문이다. (ex. 대여소 앞에서 빌릴까 망설이다가 다시 돌려놓은 경우)

**초기 가설: 이용시간이 2분 미만, 이용거리가 0M인 경우 대여 확률에 영향을 미치지 않을 것이다.**

이용 시간이 1분 미만이며, 대여 장소와 반납 장소가 같고, 이동거리가 0인 경우는 (자전거 대여하고 전혀 움직이지 않은 채 다시 반납한 경우) 1245806건으로 전체 2.7%에 해당한다.

이용 시간이 1분 미만이며, 대여 장소와 반납 장소가 같고, 이동거리가 0이 아닌 경우는 (자전거 대여하고 아주 잠시 탑승했거나, 이동거리 데이터에 오류가 있는 경우) 1430972건으로 전체 3.1퍼센트에 해당하는 데이터이다.

이용시간이 1분이 넘어가면 잠재적 PBSS 이용자에게 영향이 있을 것이고, 자전거라는 이동수단 특성상 제법 긴 거리를 이동할 수 있는 유의미한 시간이라 간주하였고,

**분석 후: 이용 시간이 1분 미만이며, 대여 장소와 반납 장소가 같은 경우는 잠재적 이용자에게 영향이 없을 것이라 판단하여 이상치로 간주하여 제거하기로 한다.**

## 결측치 제거
- 전체의 0.4% (192268건)에 해당하는 데이터의 반납 대여소 데이터가 누락되어 제거해주었다.

## 데이터 형변환
- 효과적으로 대여/반납 일시에서 월, 요일, 시간대 등의 정보를 추출하기 위해 datetime 형식으로 변환한다.
- 대여소 번호를 정수형으로 변환하지 않으면, 다섯자리 형태로 기재되어 있기 때문에 번호 매칭이 어렵다 (ex. 03112)

# 대여소 데이터 분석

![image](https://github.com/kosonkh7/PBSS-Analysis/assets/83086978/05930879-fcb1-4f6e-96dd-1927f5974626)

2023년 6월 기준 서울시엔 2749개의 대여소가 존재하고, 송파구 내에는 전체 약 8%인 218개의 대여소가 존재한다.

송파구, 강서구, 강남구, 영등포구, 서초구 순으로 대여소가 많은 것을 볼 수 있다.

![image](https://github.com/kosonkh7/PBSS-Analysis/assets/83086978/2e5d02d9-4206-4ca3-918c-57df281f79fc)

1년간 자치구별 대여량 상위 3개 구는 강서구, 송파구, 영등포구이다.

대여소 개수 3위와 5위인 강남구와 서초구가 대여량은 각각 13위와 14위인 것은 의외였다.

# 데이터 분석

송파구 내 **특정 조건**을 포함하는 **대여소 별 평균 대여량 | 평균 반납량 | 평균 재고량** 구하는 것이 목적이다.
분석하고자 하는 조건은 아래와 같이 구분할 수 있다.

월별
시간대별
요일별
주말여부

원하는 조건별로 평균 지표를 바로 구할 수 있는 포맷을 구축하는 것이 목표

**Pandas의 groupby, merge(join) 기능을 적절히 활용하여 데이터를 원하는 형식으로 바꾼 절차를 PBSS_Analysis.ipynb에서 확인할 수 있다.**
